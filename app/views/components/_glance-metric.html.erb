<%
  name ||= false
  figure ||= false
  period ||= false
  link_text ||= false
  link_url ||= false
  measurement_display_label ||= ""
  measurement_explicit_label ||= ""
  context ||= ""
  trend_percentage ||= ""
%>
<% if name && figure && period %>
  <div class="app-c-glance-metric govuk-body">
    <h3 class="app-c-glance-metric__heading govuk-heading-s"><%= name %></h3>
    <span class="app-c-glance-metric__figure"><%= figure %><span class="app-c-glance-metric__measurement" <% if measurement_explicit_label %>aria-label="<%= measurement_explicit_label %>"<% end %>><%= measurement_display_label %></span></span>
    <p class="app-c-glance-metric__context govuk-body-xs"><%= context %></p>
    <span class="app-c-glance-metric__trend">
      <% if trend_percentage > 0 %>+<% end %><%= trend_percentage %>%
    </span>
    <% if trend_percentage.to_f > 0 %>
      <span class="app-c-glance-metric__trend--up">
        <span aria-hidden="true" class="app-c-glance-metric__trend-icon">&#9650;</span>
        <span class="app-c-glance-metric__trend-text">Upward trend</span>
      <span>
    <% elsif trend_percentage.to_f < 0 %>
      <span class="app-c-glance-metric__trend--down">
        <span aria-hidden="true" class="app-c-glance-metric__trend-icon">&#9660;</span>
        <span class="app-c-glance-metric__trend-text">Downward trend</span>
      <span>
    <% else %>
      <span class="app-c-glance-metric__trend--no-change">
        <span aria-hidden="true" class="app-c-glance-metric__trend-icon">&#8210;</span>
        <span class="app-c-glance-metric__trend-text">No change</span>
      <span>
    <% end %>
    <p class="app-c-glance-metric__period govuk-body-xs"><%= period %></p>
    <div class="app-c-glance-metric__link-wrapper govuk-body-xs">
      <% if link_text && link_url %>
        <a class="app-c-glance-metric__link" href="<%= link_url %>"><%= link_text %></a>
      <% end %>
    </div>
  </div>
<% end %>
